<!DOCTYPE html>
<html lang="en" xmlns:layout="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!--자바스크립트 jquery : 스크립트를 이용한 효과-->
    <!--서버로 부터 메세지 처리-->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

        <th:block layout:fragment="script">
            <script type="text/javascript">
                $(document).ready(function (){
                    var errorMessage = [[${errorMessage}]];  //서버로부터 errorMessage값을 받아서
                    if (errorMessage != null && errorMessage.length>0){  //전달받은 오류메세지가 있으면
                        alert(errorMessage);    //메세지창
                    }
                });
            </script>

    </th:block>


    <div th:replace="~{fragments/header::header}"></div>
    <div layout:fragment="content"> <!--로그인폼-->
        <div class="row">
            <div class="col-lg-4"></div>
            <div class="col-lg-4">
            <div class="card mt-5">
                <div class="card-body">
                    <form action="/member/login" method="post">
                        <div class="mb-3 mt-3">
                            <label for="email" class="form-label">이메일주소:</label>
                            <input type="email" class="form-control" id="email" placeholder="이메일을 입력해주세요" name="email">
                        </div>
                        <div class="mb-3">
                            <label for="password" class="form-label">비밀번호:</label>
                            <input type="password" class="form-control" id="password" placeholder="비밀번호를 입력해주세요" name="password">
                        </div>
                        <!--로그인처리후 아이디나 비밀번호가 불일치하면 전달받은 메세지를 출력-->
                        <p th:if="${loginErrorMsg}" class="error" th:text="${loginErrorMsg}"></p>
                        <button type="submit" class="btn btn-primary">로그인</button>
<!--                    csrf() 페이지 위조 방지
-->
<!--                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
-->

                    </form>
                </div>
            </div>


            </div>
            <div class="col-lg-4"></div>
        </div>


    </div>
    <div th:replace="~{fragments/footer::footer}"></div>
<!--    <script type="text/javascript">
        //페이지를 브라우저에 읽었으면(출력했으면)
        $(document).ready(function(){
            //작업할 내용을 기재
            //model.addAttribute("errorMessage", "오류입니다.")
            var errorMessage = [[${errorMessage}]]  //서버로부터 errorMessage값을 받아서
            if (errorMessage != null){  //전달받은 오류메세지가 있으면
                alert(errorMessage);    //메세지창
            }
            alert("xx");
        });
        </script>
-->
</head>
<body>

</body>
</html>